#!/usr/bin/make -f
# -*- makefile -*-

export DEB_BUILD_MAINT_OPTIONS = hardening=+all

%:
	dh $@ -Scmake

override_dh_auto_configure:
	dh_auto_configure -- \
		-DCMAKE_BUILD_TYPE=RelWithDebInfo \
		-DBUILD_GUI=ON \
		-DBUILD_TRAY=ON \
		-DBUILD_WIDGETS=ON

override_dh_auto_install:
	dh_auto_install
	# Create configuration directory
	mkdir -p debian/tmp/etc/ucc
	chmod 755 debian/tmp/etc/ucc

override_dh_installdocs:
	dh_installdocs README.md

override_dh_installsystemd:
	dh_installsystemd --name=uccd
